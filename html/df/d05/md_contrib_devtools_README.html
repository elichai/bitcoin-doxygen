<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin: Contents</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Contents </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory contains tools for developers working on this repository.</p>
<h1><a class="el" href="../../d2/d5e/clang-format-diff_8py.html">clang-format-diff.py</a> </h1>
<p>A script to format unified git diffs according to <a href="../../../../src/.clang-format">.clang-format</a>.</p>
<p>Requires <code>clang-format</code>, installed e.g. via <code>brew install clang-format</code> on macOS.</p>
<p>For instance, to format the last commit with 0 lines of context, the script should be called from the git root folder as follows.</p>
<div class="fragment"><div class="line">git diff -U0 HEAD~1.. | ./contrib/devtools/clang-format-diff.py -p1 -i -v</div></div><!-- fragment --><h1><a class="el" href="../../d3/d5e/copyright__header_8py.html">copyright_header.py</a> </h1>
<p>Provides utilities for managing copyright headers of <code>The Bitcoin Core developers</code> in repository source files. It has three subcommands:</p>
<div class="fragment"><div class="line">$ ./copyright_header.py report &lt;base_directory&gt; [verbose]</div><div class="line">$ ./copyright_header.py update &lt;base_directory&gt;</div><div class="line">$ ./copyright_header.py insert &lt;file&gt;</div></div><!-- fragment --><p> Running these subcommands without arguments displays a usage string.</p>
<h2><a class="el" href="../../d3/d5e/copyright__header_8py.html">copyright_header.py</a> report &lt;base_directory&gt; [verbose] </h2>
<p>Produces a report of all copyright header notices found inside the source files of a repository. Useful to quickly visualize the state of the headers. Specifying <code>verbose</code> will list the full filenames of files of each category.</p>
<h2><a class="el" href="../../d3/d5e/copyright__header_8py.html">copyright_header.py</a> update &lt;base_directory&gt; [verbose] </h2>
<p>Updates all the copyright headers of <code>The Bitcoin Core developers</code> which were changed in a year more recent than is listed. For example: </p><div class="fragment"><div class="line">// Copyright (c) &lt;firstYear&gt;-&lt;lastYear&gt; The Bitcoin Core developers</div></div><!-- fragment --><p> will be updated to: </p><div class="fragment"><div class="line">// Copyright (c) &lt;firstYear&gt;-&lt;lastModifiedYear&gt; The Bitcoin Core developers</div></div><!-- fragment --><p> where <code>&lt;lastModifiedYear&gt;</code> is obtained from the <code>git log</code> history.</p>
<p>This subcommand also handles copyright headers that have only a single year. In those cases: </p><div class="fragment"><div class="line">// Copyright (c) &lt;year&gt; The Bitcoin Core developers</div></div><!-- fragment --><p> will be updated to: </p><div class="fragment"><div class="line">// Copyright (c) &lt;year&gt;-&lt;lastModifiedYear&gt; The Bitcoin Core developers</div></div><!-- fragment --><p> where the update is appropriate.</p>
<h2><a class="el" href="../../d3/d5e/copyright__header_8py.html">copyright_header.py</a> insert &lt;file&gt; </h2>
<p>Inserts a copyright header for <code>The Bitcoin Core developers</code> at the top of the file in either Python or C++ style as determined by the file extension. If the file is a Python file and it has <code>#!</code> starting the first line, the header is inserted in the line below it.</p>
<p>The copyright dates will be set to be <code>&lt;year_introduced&gt;-&lt;current_year&gt;</code> where <code>&lt;year_introduced&gt;</code> is according to the <code>git log</code> history. If <code>&lt;year_introduced&gt;</code> is equal to <code>&lt;current_year&gt;</code>, it will be set as a single year rather than two hyphenated years.</p>
<p>If the file already has a copyright for <code>The Bitcoin Core developers</code>, the script will exit.</p>
<h1>gen-manpages.sh </h1>
<p>A small script to automatically create manpages in ../../doc/man by running the release binaries with the -help option. This requires help2man which can be found at: <a href="https://www.gnu.org/software/help2man/">https://www.gnu.org/software/help2man/</a></p>
<p>With in-tree builds this tool can be run from any directory within the repostitory. To use this tool with out-of-tree builds set <code>BUILDDIR</code>. For example:</p>
<div class="fragment"><div class="line">BUILDDIR=$PWD/build contrib/devtools/gen-manpages.sh</div></div><!-- fragment --><h1><a class="el" href="../../df/d2f/github-merge_8py.html">github-merge.py</a> </h1>
<p>A small script to automate merging pull-requests securely and sign them with GPG.</p>
<p>For example:</p>
<p>./github-merge.py 3077</p>
<p>(in any git repository) will help you merge pull request #3077 for the bitcoin/bitcoin repository.</p>
<p>What it does:</p><ul>
<li>Fetch master and the pull request.</li>
<li>Locally construct a merge commit.</li>
<li>Show the diff that merge results in.</li>
<li>Ask you to verify the resulting source tree (so you can do a make check or whatever).</li>
<li>Ask you whether to GPG sign the merge commit.</li>
<li>Ask you whether to push the result upstream.</li>
</ul>
<p>This means that there are no potential race conditions (where a pullreq gets updated while you're reviewing it, but before you click merge), and when using GPG signatures, that even a compromised GitHub couldn't mess with the sources.</p>
<h2>Setup </h2>
<p>Configuring the github-merge tool for the bitcoin repository is done in the following way: </p><pre class="fragment">git config githubmerge.repository bitcoin/bitcoin
git config githubmerge.testcmd "make -j4 check" (adapt to whatever you want to use for testing)
git config --global user.signingkey mykeyid
</pre><h2>Authentication (optional) </h2>
<p>The API request limit for unauthenticated requests is quite low, but the limit for authenticated requests is much higher. If you start running into rate limiting errors it can be useful to set an authentication token so that the script can authenticate requests.</p>
<ul>
<li>First, go to <a href="https://github.com/settings/tokens">Personal access tokens</a>.</li>
<li>Click 'Generate new token'.</li>
<li>Fill in an arbitrary token description. No further privileges are needed.</li>
<li>Click the <code>Generate token</code> button at the bottom of the form.</li>
<li>Copy the generated token (should be a hexadecimal string)</li>
</ul>
<p>Then do: </p><pre class="fragment">git config --global user.ghtoken "pasted token"
</pre><h2>Create and verify timestamps of merge commits </h2>
<p>To create or verify timestamps on the merge commits, install the OpenTimestamps client via <code>pip3 install opentimestamps-client</code>. Then, download the gpg wrapper <code>ots-git-gpg-wrapper.sh</code> and set it as git's <code>gpg.program</code>. See <a href="https://github.com/opentimestamps/opentimestamps-client/blob/master/doc/git-integration.md#usage">the ots git integration documentation</a> for further details.</p>
<h1><a class="el" href="../../dc/d5e/optimize-pngs_8py.html">optimize-pngs.py</a> </h1>
<p>A script to optimize png files in the bitcoin repository (requires pngcrush).</p>
<h1><a class="el" href="../../da/d1e/security-check_8py.html">security-check.py</a> and <a class="el" href="../../d8/d17/test-security-check_8py.html">test-security-check.py</a> </h1>
<p>Perform basic ELF security checks on a series of executables.</p>
<h1><a class="el" href="../../d6/dd2/symbol-check_8py.html">symbol-check.py</a> </h1>
<p>A script to check that the (Linux) executables produced by gitian only contain allowed gcc, glibc and libstdc++ version symbols. This makes sure they are still compatible with the minimum supported Linux distribution versions.</p>
<p>Example usage after a gitian build: </p><pre class="fragment">find ../gitian-builder/build -type f -executable | xargs python3 contrib/devtools/symbol-check.py
</pre><p>If only supported symbols are used the return value will be 0 and the output will be empty.</p>
<p>If there are 'unsupported' symbols, the return value will be 1 a list like this will be printed: </p><pre class="fragment">.../64/test_bitcoin: symbol memcpy from unsupported version GLIBC_2.14
.../64/test_bitcoin: symbol __fdelt_chk from unsupported version GLIBC_2.15
.../64/test_bitcoin: symbol std::out_of_range::~out_of_range() from unsupported version GLIBCXX_3.4.15
.../64/test_bitcoin: symbol _ZNSt8__detail15_List_nod from unsupported version GLIBCXX_3.4.15
</pre><h1><a class="el" href="../../d5/d8d/update-translations_8py.html">update-translations.py</a> </h1>
<p>Run this script from the root of the repository to update all translations from transifex. It will do the following automatically:</p>
<ul>
<li>fetch all translations</li>
<li>post-process them into valid and committable format</li>
<li>add missing translations to the build system (TODO)</li>
</ul>
<p>See doc/translation-process.md for more information.</p>
<h1><a class="el" href="../../d8/d45/circular-dependencies_8py.html">circular-dependencies.py</a> </h1>
<p>Run this script from the root of the source tree (<code>src/</code>) to find circular dependencies in the source code. This looks only at which files include other files, treating the <code>.cpp</code> and <code>.h</code> file as one unit.</p>
<p>Example usage: </p><pre class="fragment">cd .../src
../contrib/devtools/circular-dependencies.py {*,*/*,*/*/*}.{h,cpp}
</pre> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
