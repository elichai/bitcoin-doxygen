<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bitcoin: Unauthenticated REST Interface</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Unauthenticated REST Interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The REST API can be enabled with the <code>-rest</code> option.</p>
<p>The interface runs on the same port as the JSON-RPC interface, by default port 8332 for mainnet, port 18332 for testnet, and port 18443 for regtest.</p>
<h2>REST Interface consistency guarantees </h2>
<p>The <a href="../..//doc/JSON-RPC-interface.md#rpc-consistency-guarantees">same guarantees as for the RPC Interface</a> apply.</p>
<h2>Supported API </h2>
<h4>Transactions</h4>
<p><code>GET /rest/tx/&lt;TX-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a transaction hash: returns a transaction in binary, hex-encoded binary, or JSON formats.</p>
<p>By default, this endpoint will only search the mempool. To query for a confirmed transaction, enable the transaction index via "txindex=1" command line / configuration option.</p>
<h4>Blocks</h4>
<p><code>GET /rest/block/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code> <code>GET /rest/block/notxdetails/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a block hash: returns a block, in binary, hex-encoded binary or JSON formats. Responds with 404 if the block doesn't exist.</p>
<p>The HTTP request and response are both handled entirely in-memory, thus making maximum memory usage at least 2.66MB (1 MB max block, plus hex encoding) per request.</p>
<p>With the /notxdetails/ option JSON response will only contain the transaction hash instead of the complete transaction details. The option only affects the JSON response.</p>
<h4>Blockheaders</h4>
<p><code>GET /rest/headers/&lt;COUNT&gt;/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a block hash: returns &lt;COUNT&gt; amount of blockheaders in upward direction. Returns empty if the block doesn't exist or it isn't in the active chain.</p>
<h4>Blockhash by height</h4>
<p><code>GET /rest/blockhashbyheight/&lt;HEIGHT&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a height: returns hash of block in best-block-chain at height provided.</p>
<h4>Chaininfos</h4>
<p><code>GET /rest/chaininfo.json</code></p>
<p>Returns various state info regarding block chain processing. Only supports JSON as output format.</p><ul>
<li>chain : (string) current network name as defined in BIP70 (main, test, regtest)</li>
<li>blocks : (numeric) the current number of blocks processed in the server</li>
<li>headers : (numeric) the current number of headers we have validated</li>
<li>bestblockhash : (string) the hash of the currently best block</li>
<li>difficulty : (numeric) the current difficulty</li>
<li>mediantime : (numeric) the median time of the 11 blocks before the most recent block on the blockchain</li>
<li>verificationprogress : (numeric) estimate of verification progress [0..1]</li>
<li>chainwork : (string) total amount of work in active chain, in hexadecimal</li>
<li>pruned : (boolean) if the blocks are subject to pruning</li>
<li>pruneheight : (numeric) highest block available</li>
<li>softforks : (array) status of softforks in progress</li>
<li>bip9_softforks : (object) status of BIP9 softforks in progress</li>
</ul>
<h4>Query UTXO set</h4>
<p><code>GET /rest/getutxos/&lt;checkmempool&gt;/&lt;txid&gt;-&lt;n&gt;/&lt;txid&gt;-&lt;n&gt;/.../&lt;txid&gt;-&lt;n&gt;.&lt;bin|hex|json&gt;</code></p>
<p>The getutxo command allows querying of the UTXO set given a set of outpoints. See BIP64 for input and output serialisation: <a href="https://github.com/bitcoin/bips/blob/master/bip-0064.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0064.mediawiki</a></p>
<p>Example: </p><div class="fragment"><div class="line">$ curl localhost:18332/rest/getutxos/checkmempool/b2cdfd7b89def827ff8af7cd9bff7627ff72e5e8b0f71210f92ea7a4000c5d75-0.json 2&gt;/dev/null | json_pp</div><div class="line">{</div><div class="line">   &quot;chainHeight&quot; : 325347,</div><div class="line">   &quot;chaintipHash&quot; : &quot;00000000fb01a7f3745a717f8caebee056c484e6e0bfe4a9591c235bb70506fb&quot;,</div><div class="line">   &quot;bitmap&quot;: &quot;1&quot;,</div><div class="line">   &quot;utxos&quot; : [</div><div class="line">      {</div><div class="line">         &quot;txvers&quot; : 1</div><div class="line">         &quot;height&quot; : 2147483647,</div><div class="line">         &quot;value&quot; : 8.8687,       </div><div class="line">         &quot;scriptPubKey&quot; : {</div><div class="line">            &quot;asm&quot; : &quot;OP_DUP OP_HASH160 1c7cebb529b86a04c683dfa87be49de35bcf589e OP_EQUALVERIFY OP_CHECKSIG&quot;,</div><div class="line">            &quot;hex&quot; : &quot;76a9141c7cebb529b86a04c683dfa87be49de35bcf589e88ac&quot;,</div><div class="line">            &quot;reqSigs&quot; : 1,</div><div class="line">            &quot;type&quot; : &quot;pubkeyhash&quot;,</div><div class="line">            &quot;addresses&quot; : [</div><div class="line">               &quot;mi7as51dvLJsizWnTMurtRmrP8hG2m1XvD&quot;</div><div class="line">            ]</div><div class="line">         }</div><div class="line">      }</div><div class="line">   ]</div><div class="line">}</div></div><!-- fragment --><h4>Memory pool</h4>
<p><code>GET /rest/mempool/info.json</code></p>
<p>Returns various information about the TX mempool. Only supports JSON as output format.</p><ul>
<li>loaded : (boolean) if the mempool is fully loaded</li>
<li>size : (numeric) the number of transactions in the TX mempool</li>
<li>bytes : (numeric) size of the TX mempool in bytes</li>
<li>usage : (numeric) total TX mempool memory usage</li>
<li>maxmempool : (numeric) maximum memory usage for the mempool in bytes</li>
<li>mempoolminfee : (numeric) minimum feerate (BTC per KB) for tx to be accepted</li>
</ul>
<p><code>GET /rest/mempool/contents.json</code></p>
<p>Returns transactions in the TX mempool. Only supports JSON as output format.</p>
<h2>Risks </h2>
<p>Running a web browser on the same node with a REST enabled bitcoind can be a risk. Accessing prepared XSS websites could read out tx/block data of your node by placing links like <code>&lt;script src="http://127.0.0.1:8332/rest/tx/1234567890.json"&gt;</code> which might break the nodes privacy. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
